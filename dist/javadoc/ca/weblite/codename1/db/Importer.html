<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Wed Jun 25 10:51:40 PDT 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>Importer</title>
<meta name="date" content="2014-06-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Importer";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../ca/weblite/codename1/db/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Importer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ca/weblite/codename1/db/DAOProvider.html" title="class in ca.weblite.codename1.db"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ca/weblite/codename1/db/Importer.html" target="_top">Frames</a></li>
<li><a href="Importer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ca.weblite.codename1.db</div>
<h2 title="Class Importer" class="title">Class Importer&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ca.weblite.codename1.db.Importer&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - The type of the entity object.</dd></dl>
<hr>
<br>
<pre>public class <span class="strong">Importer&lt;T&gt;</span>
extends java.lang.Object</pre>
<div class="block">An importer for importing sets of data into a table.  This can be used to import
 JSON data, or lists of Maps.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#Importer(ca.weblite.codename1.db.DAO)">Importer</a></strong>(<a href="../../../../ca/weblite/codename1/db/DAO.html" title="class in ca.weblite.codename1.db">DAO</a>&lt;<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&gt;&nbsp;dao)</code>
<div class="block">Creates an importer for the given DAO.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#Importer(ca.weblite.codename1.db.DAO, java.lang.String[], java.util.Map)">Importer</a></strong>(<a href="../../../../ca/weblite/codename1/db/DAO.html" title="class in ca.weblite.codename1.db">DAO</a>&lt;<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&gt;&nbsp;dao,
        java.lang.String[]&nbsp;keyColumns,
        java.util.Map&nbsp;columnMap)</code>
<div class="block">Creates an importer for the given DAO with specified key columns and column map.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#Importer(ca.weblite.codename1.db.DAO, java.lang.String[], java.lang.String[])">Importer</a></strong>(<a href="../../../../ca/weblite/codename1/db/DAO.html" title="class in ca.weblite.codename1.db">DAO</a>&lt;<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&gt;&nbsp;dao,
        java.lang.String[]&nbsp;keyColumns,
        java.lang.String[]&nbsp;columnMap)</code>
<div class="block">Creates an importer for the given DAO with the specified key columns and column map.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#afterImport(T, java.util.Map)">afterImport</a></strong>(<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&nbsp;object,
           java.util.Map&nbsp;row)</code>
<div class="block">Trigger called just after the entity object is saved.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#beforeImport(T, java.util.Map)">beforeImport</a></strong>(<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&nbsp;object,
            java.util.Map&nbsp;row)</code>
<div class="block">Trigger called just before an entity object is saved.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#getColumnMap()">getColumnMap</a></strong>()</code>
<div class="block">Gets a reference to the column map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#getKeyCols()">getKeyCols</a></strong>()</code>
<div class="block">Gets the key columns for this set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#importJSON(java.io.InputStream, java.lang.String)">importJSON</a></strong>(java.io.InputStream&nbsp;is,
          java.lang.String&nbsp;selector)</code>
<div class="block">Imports JSON data from an input stream into the database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#importSet(java.util.List)">importSet</a></strong>(java.util.List&nbsp;rows)</code>
<div class="block">Imports a set of rows into the DAO.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#importSet(java.util.Map, java.lang.String)">importSet</a></strong>(java.util.Map&nbsp;set,
         java.lang.String&nbsp;selector)</code>
<div class="block">Imports a set of rows into the table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../ca/weblite/codename1/db/Importer.html#prepareRowForImport(java.util.Map)">prepareRowForImport</a></strong>(java.util.Map&nbsp;row)</code>
<div class="block">Trigger called just before a row is imported.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Importer(ca.weblite.codename1.db.DAO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Importer</h4>
<pre>public&nbsp;Importer(<a href="../../../../ca/weblite/codename1/db/DAO.html" title="class in ca.weblite.codename1.db">DAO</a>&lt;<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&gt;&nbsp;dao)</pre>
<div class="block">Creates an importer for the given DAO.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dao</code> - The DAO into which the importer will import records.</dd></dl>
</li>
</ul>
<a name="Importer(ca.weblite.codename1.db.DAO, java.lang.String[], java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Importer</h4>
<pre>public&nbsp;Importer(<a href="../../../../ca/weblite/codename1/db/DAO.html" title="class in ca.weblite.codename1.db">DAO</a>&lt;<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&gt;&nbsp;dao,
        java.lang.String[]&nbsp;keyColumns,
        java.lang.String[]&nbsp;columnMap)</pre>
<div class="block">Creates an importer for the given DAO with the specified key columns and column map.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dao</code> - The DAO into which the importer will import records.</dd><dd><code>keyColumns</code> - List of columns in the import set that are key columns.</dd><dd><code>columnMap</code> - A map of columns in the import set to the corresponding column in the DAO. 
 Odd entries are column names in the import set, and the next even entry is the corresponding 
 column name in the DAO.</dd></dl>
</li>
</ul>
<a name="Importer(ca.weblite.codename1.db.DAO, java.lang.String[], java.util.Map)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Importer</h4>
<pre>public&nbsp;Importer(<a href="../../../../ca/weblite/codename1/db/DAO.html" title="class in ca.weblite.codename1.db">DAO</a>&lt;<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&gt;&nbsp;dao,
        java.lang.String[]&nbsp;keyColumns,
        java.util.Map&nbsp;columnMap)</pre>
<div class="block">Creates an importer for the given DAO with specified key columns and column map.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dao</code> - The DAO into which the importer will import records.</dd><dd><code>keyColumns</code> - List of columns in the import set that are key columns.</dd><dd><code>columnMap</code> - A map of columns in the import set to the corresponding column in the DAO.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getColumnMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getColumnMap</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;getColumnMap()</pre>
<div class="block">Gets a reference to the column map.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The column map for this importer.  This maps column names of the import set to
 column names in the DAO.</dd></dl>
</li>
</ul>
<a name="getKeyCols()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyCols</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getKeyCols()</pre>
<div class="block">Gets the key columns for this set.  These are the columns that will be used
 to look up existing records in the DAO.  These should be column names of the DAO,
 and not the import set.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="importSet(java.util.Map, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importSet</h4>
<pre>public&nbsp;void&nbsp;importSet(java.util.Map&nbsp;set,
             java.lang.String&nbsp;selector)
               throws java.io.IOException</pre>
<div class="block">Imports a set of rows into the table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>set</code> - A Map with a nested data structure.  Typically this will have been parsed from JSON.</dd><dd><code>selector</code> - A selector path to indicate where, within the dataset, the rows to be imported
  are located.  E.g. "tables/data" indicates that the Map set has a key "tables" with another Map, 
 which contains a key "data", which is a List of Maps - each of which represents a row to be imported.</dd><dd><code>columnMap</code> - Maps columns in the imported set, into the corresponding column names in the table.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="importSet(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importSet</h4>
<pre>public&nbsp;void&nbsp;importSet(java.util.List&nbsp;rows)
               throws java.io.IOException</pre>
<div class="block">Imports a set of rows into the DAO.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rows</code> - List of Maps to be imported.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="prepareRowForImport(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prepareRowForImport</h4>
<pre>protected&nbsp;void&nbsp;prepareRowForImport(java.util.Map&nbsp;row)</pre>
<div class="block">Trigger called just before a row is imported.  This gives subclasses
 an opportunity to modify data in the row before it is applied to the 
 Entity object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>row</code> - The row that is being imported.  It has already had the
 importer's column map applied to it.</dd></dl>
</li>
</ul>
<a name="beforeImport(java.lang.Object,java.util.Map)">
<!--   -->
</a><a name="beforeImport(T, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeImport</h4>
<pre>protected&nbsp;void&nbsp;beforeImport(<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&nbsp;object,
                java.util.Map&nbsp;row)</pre>
<div class="block">Trigger called just before an entity object is saved.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>object</code> - The entity object that is being imported.  It may be an 
 existing object or a new object.</dd><dd><code>row</code> - A map of values that were applied to the entity object.</dd></dl>
</li>
</ul>
<a name="afterImport(java.lang.Object,java.util.Map)">
<!--   -->
</a><a name="afterImport(T, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterImport</h4>
<pre>protected&nbsp;void&nbsp;afterImport(<a href="../../../../ca/weblite/codename1/db/Importer.html" title="type parameter in Importer">T</a>&nbsp;object,
               java.util.Map&nbsp;row)</pre>
<div class="block">Trigger called just after the entity object is saved.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>object</code> - The entity object that was saved.</dd><dd><code>row</code> - The row of Map data that was applied to the entity object to be saved.</dd></dl>
</li>
</ul>
<a name="importJSON(java.io.InputStream, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>importJSON</h4>
<pre>public final&nbsp;void&nbsp;importJSON(java.io.InputStream&nbsp;is,
              java.lang.String&nbsp;selector)
                      throws java.io.IOException</pre>
<div class="block">Imports JSON data from an input stream into the database.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>is</code> - InputStream containing JSON data.</dd><dd><code>selector</code> - The selector to specify the path to the list of data to be imported.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../ca/weblite/codename1/db/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Importer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../ca/weblite/codename1/db/DAOProvider.html" title="class in ca.weblite.codename1.db"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ca/weblite/codename1/db/Importer.html" target="_top">Frames</a></li>
<li><a href="Importer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
